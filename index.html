<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Inazuma Eleven Blog</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        .pressed { background-color: lightgrey; }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel"> 

      const { useState, useEffect } = React;

      const Header = () => {
        const styles = {
          backgroundColor: 'yellow',
          color: 'blue',
          padding: '15px',
          margin: '0',
          textAlign: 'center',
          fontSize: '20px',
          fontWeight: 'bold',
          textTransform: 'uppercase'
        }
        return (
            <header style={styles}>Inazuma Eleven Blog</header>
        )
      }

      const Footer = () => {
        return (
          <footer>
            <p>© 2021 Inazuma Eleven Blog</p>
          </footer>
        )
      } 

      const Jugador = ({nombre, posisicion, posicion2, numero, equipo, descripcion, supertenica}) => {
        const styles = {
          backgroundColor: 'lightgrey',
          padding: '15px',
          margin: '0',
          border: '1px solid #ccc',
          borderRadius: '2px',
          textAlign: 'center',
          fontSize: '15px',
          fontWeight: 'bold',
        }
        return (
          <div style={styles}>
            <h2>{nombre}</h2>
            <p>Posición Principal: {posisicion}</p>
            <p>Posición Secundaria: {posicion2}</p>
            <p>Número de camiseta: {numero}</p>
            <p>Equipo: {equipo}</p>
            <p>Descripción: {descripcion}</p>
            <p>Super Técnica Característica: {supertenica}</p>
          </div>
        )
      }

      const allPosts = () => {
        const styles = {
          padding: '20px',
          margin: '0',
          maxHeight: '100vh',
        }

        const  [jugadores, setJugadores] = useState([])

        useEffect(() => {

          const getPosts = async () => {
            const response = await fetch('')
            const data = await response.json()
            setJugadores(data);
          }

          getPosts()
        }, [])

        return (
          <ul style={styles}>
            {jugadores.map((jugador) => (
              <Jugador
                key={jugador.id}
                nombre={jugador.nombre}
                posisicion={jugador.posisicion}
                posicion2={jugador.posicion2}
                numero={jugador.numero}
                equipo={jugador.equipo}
                descripcion={jugador.descripcion}
                supertenica={jugador.supertenica}
              />
            ))}
          </ul>
        )
      }

      const App = () => {
        const [loading, setLoading] = useState(true);
        const [data, setData] = useState(null);

        useEffect(() => {
          
          setTimeout(() => {
            
            setData({ message: "Datos obtenidos de la API" });
            setLoading(false);
          }, 2000); 
        }, []);

        const styles = {
          backgroundColor: 'lightblue',
          padding: '15px',
          margin: '0',
          textAlign: 'center',
          fontSize: '20px',
          fontWeight: 'bold',
          textTransform: 'uppercase'
        }

        return (
          <main style={styles}>  
            <Header />
            {loading ? (
              <div className="loader"></div>
            ) : (
              <div>
                <p>{data.message}</p>
              </div>
            )}
            <allPosts />
            <Footer />
          </main>
        )
      }

      const root = ReactDOM.createRoot(document.getElementById('root'))
      root.render(<App />)
    </script>
</body>
</html>
